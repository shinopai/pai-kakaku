<%= render partial: 'shared/page_title', locals: { page_title: @item.name + 'のレビュー投稿' } %>

<h2 class="basic-heading"><%= @item.name %>のレビュー</h2>

<%= form_with model: @review, url: review_item_path(@item), class: 'review-form' do |new_review| %>

<!-- error message -->
<% if @review.errors.any? %>
<div id="error_explanation">
  <ul>
    <% @review.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
  </ul>
</div>
<% end %>

<table class="review-form__table">
  <tbody>
    <tr>
      <th>題名</th>
      <td>
        <%= new_review.text_field :title, autofocus: true, autocomplete: "title", class: 'review-form__table-input' %>
      </td>
    </tr>
    <tr>
      <th>内容</th>
      <td>
        <%= new_review.text_area :body, autofocus: true, autocomplete: "body", class: 'review-form__table-textarea', rows: 5 %>
      </td>
    </tr>
    <tr>
      <th>評価</th>
      <td>
        <%= new_review.select :rate, [1, 2, 3, 4, 5], {include_blank: '評価を選択してください'}, class: 'review-form__table-select' %>
      </td>
    </tr>
  </tbody>
</table>
<%= new_review.submit "投稿", class: 'review-form__table-input--submit' %>
<% end %>
